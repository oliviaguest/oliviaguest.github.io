<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="{{ site.baseurl }}/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="{{ site.baseurl }}/images/favicons/favicon-16x16.png">
<link rel="manifest" href="{{ site.baseurl }}/images/favicons/site.webmanifest">
<link rel="mask-icon" href="{{ site.baseurl }}/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- <link rel="stylesheet" href="https://unpkg.com/choa@latest"> -->

<link rel="stylesheet" href="{{ site.baseurl }}/css/chota.min.css">
<link rel="stylesheet" href="{{ site.baseurl }}/css/custom.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Borel&display=swap" rel="stylesheet">
<!-- <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script> -->
<script src="https://kit.fontawesome.com/43bbae6085.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<script>
  window.onload = function() {
    var s = localStorage["s"];
    console.log('top', s);
    if (typeof s !== 'undefined' && s !== null && s !== 'null') {
      console.log('if', s);
      myFunction(s);
    }
    // becasue I load the moon icon as default, if the user has darkmode as default in their own setttings, this now needs to be a sun
    else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        myFunction('dark');
        console.log('user setting');
    }
  };


  function myFunction(s) {
      localStorage["s"] = s; // save in local storage the preference just selected
      // localStorage["s"] = null; // save in local storage the preference just selected


      console.log('func', s);

      // no matter what, we know the user requested s as the dark or light option, so set body to that class
      document.body.className = s; // NB: this makes a strong assumption that body has no other classes, since it overwrites them

      // it could be the case this preference is not reflected in the icon/page etc.
      try {
        // get the icon
        var e = document.getElementById(s);

        // if the selected setting is dark, then the icon should now switch to the sun, so as to be able to revert back to light
        if (s == 'dark') {
          e.classList.remove("fa-moon");
          e.classList.add("fa-sun");
          e.id = 'light';
        }
        // otherwise the opposite
        else if (s == 'light') {
          e.classList.add("fa-moon");
          e.classList.remove("fa-sun");
          e.id = 'dark';
        }
      } catch (e) {
          // catch here because there is a chance the user is on a page that has no such button to change from light to dark
          // console.log(e instanceof TypeError); // true
          // console.log(e.message); // "null has no properties"
          // console.log(e.name); // "TypeError"
          // console.log(e.stack); // Stack of the error
      }
  };


  </script>